{"ast":null,"code":"var _jsxFileName = \"/Users/gils/dev/shackleton/src/SceneManager.js\";\nimport * as THREE from 'three';\nimport React from 'react';\nimport TWEEN from '@tweenjs/tween.js';\nexport default (canvas => {\n  var scene, renderer, camera;\n  var cube;\n  let theta = 0;\n  let rot = true;\n  let curPos = 0;\n  let zoomLevel = 0; //\n\n  init();\n  render();\n\n  function init() {\n    renderer = new THREE.WebGLRenderer({\n      canvas: canvas,\n      antialias: true\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    window.addEventListener('resize', () => {\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n    });\n    document.body.appendChild(renderer.domElement);\n    scene = new THREE.Scene();\n    var cubeGeometry = new THREE.BoxGeometry(10, 10, 10);\n    var cubeMaterial = new THREE.MeshBasicMaterial({\n      color: 0x1ec876\n    });\n    cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n    cube.position.set(scene.position.x, scene.position.y, -200);\n    scene.add(cube);\n    camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.01, 1000);\n    document.addEventListener(\"keydown\", onDocumentKeyDown, false);\n\n    function onDocumentKeyDown(event) {\n      let keyCode = event.which;\n\n      if (keyCode === 87) {\n        camera.translateZ(-20);\n        zoomLevel += 1;\n\n        if (zoomLevel === 0) {\n          rot = true;\n        } else {\n          rot = false;\n        }\n      } else if (keyCode === 83) {\n        if (zoomLevel > 0) {\n          camera.translateZ(20);\n          zoomLevel -= 1;\n        }\n\n        if (zoomLevel === 0) {\n          rot = true;\n        } else {\n          rot = false;\n        }\n      } else if (keyCode === 65 && rot) {\n        camera.rotation.y += Math.PI / 8;\n      } else if (keyCode === 68 && rot) {\n        camera.rotation.y -= Math.PI / 8;\n      }\n    }\n\n    var radius = 1000;\n    var radials = 16;\n    var circles = 20;\n    var divisions = 64;\n    var polarGrid = new THREE.PolarGridHelper(radius, radials, circles, divisions);\n    polarGrid.position.set(0, -10, 0);\n    scene.add(polarGrid); //TWEEN\n    // let posX;\n    // let posY;\n    // let posZ;\n    //\n    // var from = {\n    //   x : camera.position.x,\n    //   y : camera.position.y,\n    //   z : camera.position.z\n    // };\n    //\n    // var to = {\n    //   x : posX,\n    //   y : posY,\n    //   z : posZ\n    // };\n    // var tween = new TWEEN.Tween(from)\n    // .to(to,600)\n    // .easing(TWEEN.Easing.Linear.None)\n    // .onUpdate(function () {\n    //   camera.position.set(this.x, this.y, this.z);\n    //   // camera.lookAt(new THREE.Vector3(0,0,0));\n    // })\n    // // .onComplete(function () {\n    // //   camera.lookAt(new THREE.Vector3(0,0,0));\n    // // })\n    // .start();\n  }\n\n  function render() {\n    TWEEN.update();\n    requestAnimationFrame(render);\n    renderer.render(scene, camera);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, \"Welcome to Shackleton's Hut\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, \"Use W, A, S and D keys to rotate view and to zoom.\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 66\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, \"Click on the instructions to hide them.\"), \" \"), \"  : \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 66\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 71\n      }\n    }, \"Instructions\")), \"}\");\n  }\n\n  return {\n    render\n  };\n});","map":{"version":3,"sources":["/Users/gils/dev/shackleton/src/SceneManager.js"],"names":["THREE","React","TWEEN","canvas","scene","renderer","camera","cube","theta","rot","curPos","zoomLevel","init","render","WebGLRenderer","antialias","setSize","window","innerWidth","innerHeight","addEventListener","aspect","updateProjectionMatrix","document","body","appendChild","domElement","Scene","cubeGeometry","BoxGeometry","cubeMaterial","MeshBasicMaterial","color","Mesh","position","set","x","y","add","PerspectiveCamera","onDocumentKeyDown","event","keyCode","which","translateZ","rotation","Math","PI","radius","radials","circles","divisions","polarGrid","PolarGridHelper","update","requestAnimationFrame"],"mappings":"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","sourcesContent":["import * as THREE from 'three';\nimport React from 'react'\nimport TWEEN from '@tweenjs/tween.js'\n\nexport default canvas => {\n\n\n  var scene, renderer, camera;\n  var cube;\n  let theta = 0;\n  let rot = true;\n  let curPos = 0;\n  let zoomLevel = 0;\n\n//\n  init();\n  render();\n\n  function init()\n  {\n      renderer = new THREE.WebGLRenderer( {canvas:canvas, antialias:true} );\n\n\n      renderer.setSize( window.innerWidth, window.innerHeight );\n      window.addEventListener('resize', ()=>{\n        renderer.setSize( window.innerWidth, window.innerHeight );\n        camera.aspect = window.innerWidth / window.innerHeight\n        camera.updateProjectionMatrix()\n      })\n\n      document.body.appendChild (renderer.domElement);\n\n      scene = new THREE.Scene();\n\n      var cubeGeometry = new THREE.BoxGeometry (10,10,10);\n      var cubeMaterial = new THREE.MeshBasicMaterial ({color: 0x1ec876});\n      cube = new THREE.Mesh (cubeGeometry, cubeMaterial);\n\n      cube.position.set (scene.position.x, scene.position.y, -200);\n      scene.add (cube);\n\n      camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.01, 1000 );\n\n      document.addEventListener(\"keydown\", onDocumentKeyDown, false)\n       function onDocumentKeyDown(event) {\n         let keyCode = event.which\n         if (keyCode === 87) {\n           camera.translateZ(-20)\n           zoomLevel += 1;\n           if (zoomLevel === 0){\n             rot = true;\n           } else {\n             rot = false;\n           }\n         } else if (keyCode === 83) {\n           if (zoomLevel > 0){\n             camera.translateZ(20)\n             zoomLevel -=  1;\n           }\n           if (zoomLevel === 0){\n             rot = true;\n           } else {\n             rot = false;\n           }\n         }\n\n         else if (keyCode === 65 && rot) {\n           camera.rotation.y += Math.PI / 8\n         }\n         else if (keyCode === 68 && rot) {\n           camera.rotation.y -= Math.PI / 8\n         }\n       }\n\n      var radius = 1000;\n      var radials = 16;\n      var circles = 20;\n      var divisions = 64;\n\n      var polarGrid = new THREE.PolarGridHelper( radius, radials, circles, divisions);\n      polarGrid.position.set(0, -10, 0);\n      scene.add( polarGrid );\n\n      //TWEEN\n\n      // let posX;\n      // let posY;\n      // let posZ;\n      //\n      // var from = {\n      //   x : camera.position.x,\n      //   y : camera.position.y,\n      //   z : camera.position.z\n      // };\n      //\n      // var to = {\n      //   x : posX,\n      //   y : posY,\n      //   z : posZ\n      // };\n      // var tween = new TWEEN.Tween(from)\n      // .to(to,600)\n      // .easing(TWEEN.Easing.Linear.None)\n      // .onUpdate(function () {\n      //   camera.position.set(this.x, this.y, this.z);\n      //   // camera.lookAt(new THREE.Vector3(0,0,0));\n      // })\n      // // .onComplete(function () {\n      // //   camera.lookAt(new THREE.Vector3(0,0,0));\n      // // })\n      // .start();\n\n  }\n\n  function render()\n  {\n\n    TWEEN.update();\n    requestAnimationFrame ( render );\n    renderer.render (scene, camera);\n    return(\n      <div>\n        <div> <strong >Welcome to Shackleton's Hut</strong>\n        <p>Use W, A, S and D keys to rotate view and to zoom.</p><div></div>\n        <p>Click on the instructions to hide them.</p> </div>  : <div><strong>Instructions</strong></div>}\n      </div>\n    )\n  }\n\n    return{render}\n\n}\n"]},"metadata":{},"sourceType":"module"}